<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For You ‚ù§Ô∏è</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg1: #1b1f3a;
      --bg2: #3d2c8d;
      --accent: #ff6db6;
      --accent2: #9effc2;
      --card: rgba(255,255,255,0.12);
      --border: rgba(255,255,255,0.25);
      --text: #ffffff;
    }
    * { box-sizing: border-box }
    html, body {
      height: 100%;
      margin: 0;
      font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 600px at 20% 10%, #2b3674 0%, var(--bg1) 45%, #0e122c 100%);
      background-attachment: fixed;
      overflow-x: hidden;
    }

    /* Floating hearts */
    .hearts {
      position: fixed; inset: 0; pointer-events: none; overflow: hidden;
      z-index: 0;
    }
    .heart {
      position: absolute;
      width: 18px; height: 18px;
      background: var(--accent);
      transform: rotate(45deg);
      opacity: 0.12;
      animation: floatUp linear forwards;
      box-shadow: 0 0 8px rgba(255, 109, 182, 0.4);
    }
    .heart::before, .heart::after {
      content: "";
      position: absolute;
      width: 18px; height: 18px;
      background: var(--accent);
      border-radius: 50%;
    }
    .heart::before { top: -9px; left: 0 }
    .heart::after  { top: 0; left: -9px }
    @keyframes floatUp {
      0%   { transform: translateY(0) rotate(45deg) scale(0.9); opacity: 0.12 }
      50%  { opacity: 0.25 }
      100% { transform: translateY(-110vh) rotate(45deg) scale(1.2); opacity: 0 }
    }

    /* Center container */
    .wrap {
      position: relative; z-index: 2;
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 32px 20px;
    }

    .card {
      width: 100%;
      max-width: 720px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 22px;
      backdrop-filter: blur(18px) saturate(130%);
      box-shadow: 0 20px 60px rgba(0,0,0,0.35), inset 0 0 40px rgba(255,255,255,0.05);
      padding: 28px;
    }

    .header {
      text-align: center;
      margin-bottom: 8px;
    }
    .title {
      font-weight: 600;
      font-size: 2rem;
      letter-spacing: 0.5px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .subtitle {
      margin-top: 6px;
      font-weight: 300;
      opacity: 0.9;
    }

    .progress {
      margin: 18px auto 10px;
      height: 8px;
      width: 100%;
      max-width: 460px;
      background: rgba(255,255,255,0.12);
      border-radius: 999px;
      overflow: hidden;
      position: relative;
    }
    .progress > span {
      display: block;
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--accent), #ffd1e8, var(--accent2));
      transition: width 280ms ease;
    }

    .q {
      margin: 14px 0 10px;
      padding: 14px 16px;
      border: 1px dashed rgba(255,255,255,0.2);
      border-radius: 14px;
      background: rgba(255,255,255,0.07);
    }
    .q h3 {
      margin: 0 0 10px;
      font-size: 1rem;
      font-weight: 600;
    }

    .options {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
    }
    .btn {
      cursor: pointer;
      border: 1px solid rgba(255,255,255,0.25);
      background: rgba(255,255,255,0.08);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      font-weight: 500;
      text-align: center;
      transition: transform 120ms ease, box-shadow 180ms ease, background 180ms ease;
      user-select: none;
    }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 8px 18px rgba(0,0,0,0.25) }
    .btn.active {
      background: linear-gradient(180deg, rgba(255,255,255,0.22), rgba(255,255,255,0.08));
      border-color: rgba(255,255,255,0.55);
      box-shadow: inset 0 0 12px rgba(255,255,255,0.18);
    }

    .actions {
      display: flex; gap: 12px; justify-content: center; margin-top: 18px;
    }
    .cta {
      cursor: pointer;
      border: none;
      padding: 12px 18px;
      border-radius: 14px;
      font-weight: 600;
      background: linear-gradient(90deg, var(--accent), #ff9ad3);
      color: #1a1a1a;
      box-shadow: 0 8px 20px rgba(255, 109, 182, 0.35);
      transition: transform 120ms ease, box-shadow 180ms ease;
    }
    .cta:hover { transform: translateY(-1px); box-shadow: 0 12px 26px rgba(255, 109, 182, 0.45) }
    .secondary {
      background: rgba(255,255,255,0.12);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.25);
      box-shadow: none;
    }

    .result {
      margin-top: 16px;
      border-top: 1px solid rgba(255,255,255,0.15);
      padding-top: 16px;
      text-align: center;
    }
    .gif {
      margin-top: 10px;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 16px 40px rgba(0,0,0,0.4);
      display: inline-block;
      max-width: 100%;
    }
    .note {
      margin-top: 10px;
      font-size: 0.9rem;
      opacity: 0.9;
    }

    /* Confetti (for Yes) */
    .confetti {
      position: fixed; inset: 0; pointer-events: none; z-index: 3;
    }
    .piece {
      position: absolute;
      width: 10px; height: 18px;
      border-radius: 3px;
      opacity: 0.95;
      animation: drop 1200ms ease-in forwards;
    }
    @keyframes drop {
      0% { transform: translateY(-20px) rotate(0deg) }
      100% { transform: translateY(100vh) rotate(380deg) }
    }

    /* Responsive */
    @media (max-width: 560px) {
      .title { font-size: 1.7rem }
      .options { grid-template-columns: repeat(2, 1fr) }
      .card { padding: 22px }
    }
  </style>
</head>
<body>

  <!-- Floating hearts -->
  <div class="hearts" id="hearts"></div>

  <div class="wrap">
    <div class="card" role="group" aria-label="Love questionnaire">
      <div class="header">
        <div class="title">Will you be mine? üíå</div>
        <div class="subtitle">Honest answers only. Your heart knows. ‚ú®</div>
      </div>

      <div class="progress" aria-hidden="true">
        <span id="progressBar"></span>
      </div>

      <!-- Questions -->
      <div class="q" data-weight="2">
        <h3>When you think of me, what do you feel?</h3>
        <div class="options">
          <div class="btn">Butterflies ü¶ã</div>
          <div class="btn">Comfort ‚òïÔ∏è</div>
          <div class="btn">Nothing much ü§ç</div>
        </div>
      </div>

      <div class="q" data-weight="2">
        <h3>Would you like to spend more time together?</h3>
        <div class="options">
          <div class="btn">Yes, please üí´</div>
          <div class="btn">Maybe üåô</div>
          <div class="btn">Not really ü•≤</div>
        </div>
      </div>

      <div class="q" data-weight="3">
        <h3>If love is a journey, do you want to walk it with me?</h3>
        <div class="options">
          <div class="btn">Absolutely ü§ù</div>
          <div class="btn">Let‚Äôs see üå∏</div>
          <div class="btn">No, sorry üíß</div>
        </div>
      </div>

      <div class="q" data-weight="3">
        <h3>Would you say "yes" if I asked you out right now?</h3>
        <div class="options">
          <div class="btn">Yes! üíó</div>
          <div class="btn">Maybe later ‚è≥</div>
          <div class="btn">No üö´</div>
        </div>
      </div>

      <div class="actions">
        <button class="cta" id="submitBtn">Show my heart</button>
        <button class="cta secondary" id="resetBtn" aria-label="Reset">Try again</button>
      </div>

      <div class="result" id="result" hidden>
        <div id="message"></div>
        <div class="gif" id="gifWrap"></div>
        <div class="note" id="note"></div>
      </div>
    </div>
  </div>

  <!-- Confetti -->
  <div class="confetti" id="confetti"></div>

  <script>
    // Floating hearts generator
    const heartsEl = document.getElementById('hearts');
    function spawnHeart() {
      const h = document.createElement('div');
      h.className = 'heart';
      h.style.left = Math.random() * 100 + 'vw';
      h.style.bottom = '-20px';
      const dur = 5000 + Math.random() * 4000;
      h.style.animationDuration = dur + 'ms';
      h.style.opacity = (0.08 + Math.random() * 0.18).toFixed(2);
      heartsEl.appendChild(h);
      setTimeout(() => h.remove(), dur);
    }
    setInterval(spawnHeart, 700);

    // Questionnaire logic
    const questions = Array.from(document.querySelectorAll('.q'));
    questions.forEach(q => {
      const opts = q.querySelectorAll('.btn');
      opts.forEach((btn, i) => {
        btn.addEventListener('click', () => {
          opts.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          updateProgress();
        });
      });
    });

    function updateProgress() {
      const total = questions.length;
      const answered = questions.filter(q => q.querySelector('.btn.active')).length;
      document.getElementById('progressBar').style.width = (answered / total) * 100 + '%';
    }

    function scoreAnswers() {
      // Map index to score: 0 = most loving, 1 = neutral, 2 = not loving
      let score = 0; // higher = more love
      let maxScore = 0;
      questions.forEach(q => {
        const weight = Number(q.dataset.weight || 1);
        maxScore += 2 * weight; // picking index 0 gives 2 * weight
        const active = q.querySelector('.btn.active');
        if (!active) return;
        const idx = Array.from(q.querySelectorAll('.btn')).indexOf(active);
        const map = [2, 1, 0]; // scores per index
        score += map[idx] * weight;
      });
      return { score, maxScore };
    }

    function showConfetti() {
      const confetti = document.getElementById('confetti');
      for (let i = 0; i < 80; i++) {
        const piece = document.createElement('div');
        piece.className = 'piece';
        const hue = Math.floor(Math.random() * 360);
        piece.style.background = `hsl(${hue} 90% 60%)`;
        piece.style.left = Math.random() * 100 + 'vw';
        piece.style.top = '-20px';
        piece.style.animationDelay = Math.random() * 400 + 'ms';
        confetti.appendChild(piece);
        setTimeout(() => piece.remove(), 1600);
      }
    }

    const submitBtn = document.getElementById('submitBtn');
    const resetBtn = document.getElementById('resetBtn');
    const resultEl = document.getElementById('result');
    const msgEl = document.getElementById('message');
    const gifWrap = document.getElementById('gifWrap');
    const noteEl = document.getElementById('note');

    submitBtn.addEventListener('click', () => {
      const { score, maxScore } = scoreAnswers();
      const answered = questions.filter(q => q.querySelector('.btn.active')).length;
      if (answered < questions.length) {
        msgEl.textContent = 'Answer all questions, pretty please üíû';
        gifWrap.innerHTML = '';
        noteEl.textContent = '';
        resultEl.hidden = false;
        return;
      }

      const ratio = score / maxScore;
      gifWrap.innerHTML = '';
      noteEl.textContent = '';

      if (ratio >= 0.6) {
        // YES gif
        msgEl.textContent = 'My heart says yes. Yours does too? üíñ';
        const img = document.createElement('img');
        img.src = 'https://media.giphy.com/media/MarodU6Pw8pRmvxyyR/giphy.gif';
        img.alt = 'Yes GIF';
        img.style.maxWidth = '100%';
        gifWrap.appendChild(img);
        noteEl.textContent = 'I promise to take care of your heart, gently and always. üå∑';
        showConfetti();
      } else {
        // NO gif
        msgEl.textContent = "It's okay. Your honesty matters. üíî";
        const img = document.createElement('img');
        img.src = 'https://media.giphy.com/media/7SF5scGB2AFrgsXP63/giphy.gif';
        img.alt = 'No GIF';
        img.style.maxWidth = '100%';
        gifWrap.appendChild(img);
        noteEl.textContent = 'Thank you for being real. I respect your feelings. üåô';
      }
      resultEl.hidden = false;
    });

    resetBtn.addEventListener('click', () => {
      questions.forEach(q => q.querySelectorAll('.btn').forEach(b => b.classList.remove('active')));
      document.getElementById('progressBar').style.width = '0%';
      resultEl.hidden = true;
      gifWrap.innerHTML = '';
      msgEl.textContent = '';
      noteEl.textContent = '';
    });
  </script>
</body>
  </html>
